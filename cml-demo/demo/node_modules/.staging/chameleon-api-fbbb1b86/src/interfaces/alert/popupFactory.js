import CDialog from './components/c-dialog/c-dialog.cml';

function createElement(id) {
  const popupContainer = document.createElement('div');
  popupContainer.setAttribute('id', id);
  document.body.appendChild(popupContainer);
}

/**
 * 在web端构建confirm/alert弹出框，二者通过type区分
 * @param {String} type 弹出框类型, alert/confirm
 * @param {Object} opt 传入的弹出框配置项， 用来代替默认配置项
 * @param {Function} successCallBack  点击确定/取消时的回调函数
 * **/
export function buildConfirm(type = 'alert', opt, successCallBack) {

  createElement('popupContainer');

  const ConfirmConstructor = Vue.extend(CDialog);

  const defaultProps = {
    type: type,
    confirmText: '确定',
    content: '',
    show: true,
    mask: true,
  };
  if (type === 'confirm') {
    defaultProps.cancelText