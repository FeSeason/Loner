# Day10
## 文件和异常
### 从文件中读取数据
要使用文本文件中的信息，首先需要将信息读取到内存中。为此，你可以一次性读取文件的全部内容，也可以以每次一行的方式逐步读取.
- 读取整个文件；借助函数open()：函数open()接受一个参数：要打开的文件的名称。关键字with在不再需要访问文件后将其关闭，调用close()，Python 自会在合适的时候自动将其关闭。read()读取文件的全部内容。对于空行可以用rstrip()去除。Python 方法rstrip()删除（剥除）字符串末尾的空白
```python
with open('pi_digits.txt') as file_object:
    contents = file_object.read()
    print(contents)
```

- 文件路径；相对路径、绝对路径；Windows 系统有时能够正确地解读文件路径中的斜杠。如果你使用的是 Windows 系统，且结果不符合预期，请确保在文件路径中使用的是反斜杠。另外，由于反斜杠在 Python 中被视为转义标记，为在 Windows 中确保万无一失，应以原始字符串的方式指定路径，即在开头的单引号前加上r。
- 逐行读取 for...in 
- 创建一个包含文件各行内容的列表;使用关键字with时，open()返回的文件对象只在with代码块内可用。如果要在with代码块外访问文件的内容，可在with代码块内将文件的各行存储在一个列表中，并在with代码块外使用该列表：你可以立即处理文件的各个部分，也可推迟到程序后面再处理。readlines()从文件中读取每一行，并将其存储在一个列表中
- 使用文件的内容;将文件读取到内存中后，就可以以任何方式使用这些数据了.读取文本文件时，Python 将其中的所有文本都解读为字符串。如果你读取的是数字，并要将其作为数值使用，就必须使用函数int()将其转换为整数，或使用函数float()将其转换为浮点数。
- 包含一百万位的大型文件;对于你可处理的数据量，Python 没有任何限制；只要系统的内存足够多，你想处理多少数据都可以。

### 写入文件
保存数据的最简单的方式之一是将其写入到文件中。通过将输出写入文件，即便关闭包含程序输出的终端窗口，这些输出也依然存在：你可以在程序结束运行后查看这些输出，可与别人分享输出文件，还可编写程序来将这些输出读取到内存中并进行处理。
- 写入空文件；open()时需要提供另一个实参,可指定读取模式（'r'）、写入模式（'w'）、附加模式（'a'）或让你能够读取和写入文件的模式（'r+'）。如果你省略了模式实参，Python 将以默认的只读模式打开文件。如果你要写入的文件不存在，函数open()将自动创建它。然而，以写入（'w'）模式打开文件时千万要小心，因为如果指定的文件已经存在，Python 将在返回文件对象前清空该文件。Python 只能将字符串写入文本文件。要将数值数据存储到文本文件中，必须先使用函数str()将其转换为字符串格式。
- 写入多行: \n 字符串中加换行符
- 附加模式；如果你要给文件添加内容，而不是覆盖原有的内容，可以附加模式打开文件，附加模式打开文件时，Python 不会在返回文件对象前清空文件，而你写入到文件的行都将添加到文件末尾。如果指定的文件不存在，Python 将为你创建一个空文件。实参'a'

### 异常
Python 使用被称为异常的特殊对象来管理程序执行期间发生的错误，发生异常时会创建一个异常对象，异常是使用try-except代码块处理的。try-except代码块让 Python 执行指定的操作，同时告诉 Python 发生异常时怎么办。使用了try-except代码块时，即便出现异常，程序也将继续运行：显示你编写的友好的错误消息，而不是令用户迷惑的 traceback。
- ZeroDivisionError 异常；不能将一个数字除以0
- 使用 try-except 代码块
- 使用异常避免崩溃;发生错误时，如果程序还有工作没有完成，妥善地处理错误就尤其重要。
- FileNotFoundError 异常:找不到文件
- 分析文本;可使用来自项目 Gutenberg（http://gutenberg.org/）的文本
- 使用多个文件；def定义方法 通过for-in调用
- Python 有一个pass语句，可在代码块中使用它来让 Python 什么都不要做： pass

### 存储数据
一种简单的方式是使用模块json来存储数据
- 使用 json.dump() 和 json.load()；先import json ；json.dump()来存储，json.load()读取
- 保存和读取用户生成的数据；
- 重构；代码能够正确地运行，但可做进一步的改进——将代码划分为一系列完成具体工作的函数。这样的过程被称为重构。重构让代码更清晰、更易于理解、更容易扩展。。
